@model AddProductVM
@{
    Layout = "~/Views/Shared/_Layout-admin.cshtml";
}


<div class="container">


    <div class="content-grid">
        <div class="text-center icon">
            <h3>Add Product</h3>
        </div>
        <div class="content-bottom">
            <form action="/company/AddProduct" method="post">
                <div class="field-group">
                    <input asp-for="@Model.CompanyId" type="hidden" value="@Model.CompanyId">
                    <div class="content-input-field" style="display: inline-flex">
                        <label style="min-width: 55%">Category </label>       <select id="Category" class="form-control" style="min-width: 200px" asp-for="@Model.CategoryId" asp-items="@Model.Category"></select>
                    </div>
                </div>
                <br />
                <div class="field-group">

                    <div class="content-input-field" style="display: inline-flex">
                        <label style="min-width: 50%">Sub Category </label>       <select id="SubCategory" class="form-control" style="min-width: 200px" asp-for="@Model.SubCategoryId" asp-items="@Model.SubCategory"></select>
                    </div>
                </div>
                <br />
               
                <div class="field-group">

                    <div class="content-input-field">
                        <input asp-for="@Model.ProductCode" type="text" value="" placeholder="Product Code" required="">
                    </div>
                </div>

                <div class="field-group">
                    <div class="content-input-field">
                        <input asp-for="@Model.ProductName" type="text" placeholder="Product Name">
                    </div>
                </div>

                <div class="field-group">
                    <div class="content-input-field">
                        <input asp-for="@Model.Discount" type="text" placeholder="Discount">
                    </div>
                </div>
                <div class="field-group">
                    <div class="content-input-field">
                        <input asp-for="@Model.Price" type="number" placeholder="Price">
                    </div>
                </div>
                <div class="field-group">
                    <div class="content-input-field">
                        <input asp-for="@Model.Description" type="text" placeholder="Description">
                    </div>
                </div>
                <div class="field-group" style="display: inline-flex">

                    <div class="content-input-field" >

                        <label id="before-upload" for="upload-browsebtn" class="btn btn-success kt-btn--wide">Select image</label>
                        <label id="after-upload" for="upload-browsebtn" class="btn btn-primary kt-btn--wide">Change</label>
                        <input id="upload-browsebtn" value="Choose a file" accept="image/*" type="file"  style="display: none">
                        <input type="hidden" value="@ViewBag.url" id="hdnProfilePicPath"/>
                        @*       <label for="fileImage" class="btn btn-success"  style="min-width: 50%;height:50px">UploadImage </label> <input id="fileImage" asp-for="@Model.ImagePath" type="file" > <img style="height: 100px; width: 100px;margin-left:66px " class="img-responsive" src="/images/ab1.jpg" />*@  
                    </div>
                    
                </div>
                <br />
                <div class="field-group">
                    <div id="upload" class="croppie-container" style="max-height: 50px; max-width: 50px;"></div>

                </div>
                <div class="content-input-field">
                    <button type="submit" class="btn">Add</button>
                </div>
            </form>
        </div>
    </div>

    <h3>List of Products</h3>

    <taable id="demoTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <td>Name</td>
                <td>Surname</td>
                <td>Classroom</td>
            </tr>
        </thead>
    </taable>
</div>





@section scripts{


    <script type="text/javascript">
        var $uploadType = 'profilepics';
        var filterValues = {};
        $(document).ready(function () {
            var refDataTable = $("#demoTable").dataTable({
                serverSide: true,
                bFilter: false,
                columns: [
                    { data: "Name" },
                    { data: "SurName" },
                    { data: "ClassRoom" }
                ],
                ajax: function (data, callback, settings) {
                    filterValues.draw = data.draw;
                    filterValues.start = data.start;
                    filterValues.length = data.length;
                    $.ajax({
                        url: '/Company/Students',
                        method: 'GET',
                        data: filterValues
                    }).done(callback);
                }
            });
            $("#filterBtn").click(function () {
                filterValues.name = $("#filterName").val();
                filterValues.surname = $("#filterSurName").val();
                filterValues.classroom = $("#filterClassRoom").val();
                refDataTable.fnDraw();
            });
        });
    </script>
}

